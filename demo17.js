/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/demo.css":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/demo.css ***!
  \************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#describe-div {\r\n    position: fixed;\r\n    left: 0px;\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n}`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://webgl-learning/./src/demo.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/demo17/demo17.css":
/*!*********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/demo17/demo17.css ***!
  \*********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_demo_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! -!../../node_modules/css-loader/dist/cjs.js!../demo.css */ \"./node_modules/css-loader/dist/cjs.js!./src/demo.css\");\n// Imports\n\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n___CSS_LOADER_EXPORT___.i(_node_modules_css_loader_dist_cjs_js_demo_css__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `body {\r\n    font-family: Arial, sans-serif;\r\n    margin: 0;\r\n    padding: 0;\r\n}\r\n\r\n#demo17-canvas {\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n\r\n#helper {\r\n    position: fixed;\r\n    right: 0px;\r\n    background-color: rgba(255, 255, 255, 0.5);\r\n}\r\n\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n}\r\n\r\nth,\r\ntd {\r\n    padding: 1px;\r\n    text-align: left;\r\n}`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://webgl-learning/./src/demo17/demo17.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack://webgl-learning/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/noSourceMaps.js":
/*!**************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/noSourceMaps.js ***!
  \**************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack://webgl-learning/./node_modules/css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/common.js":
/*!**********************************************!*\
  !*** ./node_modules/gl-matrix/esm/common.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARRAY_TYPE: () => (/* binding */ ARRAY_TYPE),\n/* harmony export */   EPSILON: () => (/* binding */ EPSILON),\n/* harmony export */   RANDOM: () => (/* binding */ RANDOM),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   setMatrixArrayType: () => (/* binding */ setMatrixArrayType),\n/* harmony export */   toRadian: () => (/* binding */ toRadian)\n/* harmony export */ });\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nfunction setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};\n\n//# sourceURL=webpack://webgl-learning/./node_modules/gl-matrix/esm/common.js?");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/mat4.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/mat4.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   adjoint: () => (/* binding */ adjoint),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   determinant: () => (/* binding */ determinant),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   frob: () => (/* binding */ frob),\n/* harmony export */   fromQuat: () => (/* binding */ fromQuat),\n/* harmony export */   fromQuat2: () => (/* binding */ fromQuat2),\n/* harmony export */   fromRotation: () => (/* binding */ fromRotation),\n/* harmony export */   fromRotationTranslation: () => (/* binding */ fromRotationTranslation),\n/* harmony export */   fromRotationTranslationScale: () => (/* binding */ fromRotationTranslationScale),\n/* harmony export */   fromRotationTranslationScaleOrigin: () => (/* binding */ fromRotationTranslationScaleOrigin),\n/* harmony export */   fromScaling: () => (/* binding */ fromScaling),\n/* harmony export */   fromTranslation: () => (/* binding */ fromTranslation),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   fromXRotation: () => (/* binding */ fromXRotation),\n/* harmony export */   fromYRotation: () => (/* binding */ fromYRotation),\n/* harmony export */   fromZRotation: () => (/* binding */ fromZRotation),\n/* harmony export */   frustum: () => (/* binding */ frustum),\n/* harmony export */   getRotation: () => (/* binding */ getRotation),\n/* harmony export */   getScaling: () => (/* binding */ getScaling),\n/* harmony export */   getTranslation: () => (/* binding */ getTranslation),\n/* harmony export */   identity: () => (/* binding */ identity),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   lookAt: () => (/* binding */ lookAt),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   multiplyScalar: () => (/* binding */ multiplyScalar),\n/* harmony export */   multiplyScalarAndAdd: () => (/* binding */ multiplyScalarAndAdd),\n/* harmony export */   ortho: () => (/* binding */ ortho),\n/* harmony export */   orthoNO: () => (/* binding */ orthoNO),\n/* harmony export */   orthoZO: () => (/* binding */ orthoZO),\n/* harmony export */   perspective: () => (/* binding */ perspective),\n/* harmony export */   perspectiveFromFieldOfView: () => (/* binding */ perspectiveFromFieldOfView),\n/* harmony export */   perspectiveNO: () => (/* binding */ perspectiveNO),\n/* harmony export */   perspectiveZO: () => (/* binding */ perspectiveZO),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   targetTo: () => (/* binding */ targetTo),\n/* harmony export */   translate: () => (/* binding */ translate),\n/* harmony export */   transpose: () => (/* binding */ transpose)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nfunction fromQuat2(out, a) {\n  var translation = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nfunction getRotation(out, mat) {\n  var scaling = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nvar perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nvar ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyey - centery) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyez - centerz) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nvar sub = subtract;\n\n//# sourceURL=webpack://webgl-learning/./node_modules/gl-matrix/esm/mat4.js?");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec3.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec3.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   angle: () => (/* binding */ angle),\n/* harmony export */   bezier: () => (/* binding */ bezier),\n/* harmony export */   ceil: () => (/* binding */ ceil),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   cross: () => (/* binding */ cross),\n/* harmony export */   dist: () => (/* binding */ dist),\n/* harmony export */   distance: () => (/* binding */ distance),\n/* harmony export */   div: () => (/* binding */ div),\n/* harmony export */   divide: () => (/* binding */ divide),\n/* harmony export */   dot: () => (/* binding */ dot),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   floor: () => (/* binding */ floor),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   hermite: () => (/* binding */ hermite),\n/* harmony export */   inverse: () => (/* binding */ inverse),\n/* harmony export */   len: () => (/* binding */ len),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   max: () => (/* binding */ max),\n/* harmony export */   min: () => (/* binding */ min),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   negate: () => (/* binding */ negate),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   scaleAndAdd: () => (/* binding */ scaleAndAdd),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   sqrDist: () => (/* binding */ sqrDist),\n/* harmony export */   sqrLen: () => (/* binding */ sqrLen),\n/* harmony export */   squaredDistance: () => (/* binding */ squaredDistance),\n/* harmony export */   squaredLength: () => (/* binding */ squaredLength),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   transformMat3: () => (/* binding */ transformMat3),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4),\n/* harmony export */   transformQuat: () => (/* binding */ transformQuat),\n/* harmony export */   zero: () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nfunction fromValues(x, y, z) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;\n  var z = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n\n//# sourceURL=webpack://webgl-learning/./node_modules/gl-matrix/esm/vec3.js?");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec4.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec4.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   ceil: () => (/* binding */ ceil),\n/* harmony export */   clone: () => (/* binding */ clone),\n/* harmony export */   copy: () => (/* binding */ copy),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   cross: () => (/* binding */ cross),\n/* harmony export */   dist: () => (/* binding */ dist),\n/* harmony export */   distance: () => (/* binding */ distance),\n/* harmony export */   div: () => (/* binding */ div),\n/* harmony export */   divide: () => (/* binding */ divide),\n/* harmony export */   dot: () => (/* binding */ dot),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   exactEquals: () => (/* binding */ exactEquals),\n/* harmony export */   floor: () => (/* binding */ floor),\n/* harmony export */   forEach: () => (/* binding */ forEach),\n/* harmony export */   fromValues: () => (/* binding */ fromValues),\n/* harmony export */   inverse: () => (/* binding */ inverse),\n/* harmony export */   len: () => (/* binding */ len),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   max: () => (/* binding */ max),\n/* harmony export */   min: () => (/* binding */ min),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   negate: () => (/* binding */ negate),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   random: () => (/* binding */ random),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   scaleAndAdd: () => (/* binding */ scaleAndAdd),\n/* harmony export */   set: () => (/* binding */ set),\n/* harmony export */   sqrDist: () => (/* binding */ sqrDist),\n/* harmony export */   sqrLen: () => (/* binding */ sqrLen),\n/* harmony export */   squaredDistance: () => (/* binding */ squaredDistance),\n/* harmony export */   squaredLength: () => (/* binding */ squaredLength),\n/* harmony export */   str: () => (/* binding */ str),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   subtract: () => (/* binding */ subtract),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4),\n/* harmony export */   transformQuat: () => (/* binding */ transformQuat),\n/* harmony export */   zero: () => (/* binding */ zero)\n/* harmony export */ });\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nfunction fromValues(x, y, z, w) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nfunction set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nfunction cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    v2 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    v4 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nfunction transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();\n\n//# sourceURL=webpack://webgl-learning/./node_modules/gl-matrix/esm/vec4.js?");

/***/ }),

/***/ "./src/common/line.frag":
/*!******************************!*\
  !*** ./src/common/line.frag ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"precision mediump float;\\r\\n\\r\\nvarying vec4 v_color;\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n    gl_FragColor = v_color;\\r\\n\\r\\n}\");\n\n//# sourceURL=webpack://webgl-learning/./src/common/line.frag?");

/***/ }),

/***/ "./src/common/line.vert":
/*!******************************!*\
  !*** ./src/common/line.vert ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"attribute vec4 a_position;\\r\\nattribute vec4 a_color;\\r\\n\\r\\nuniform mat4 u_modelMtx;\\r\\nuniform mat4 u_viewMtx;\\r\\nuniform mat4 u_projMtx;\\r\\n\\r\\nvarying vec4 v_color;\\r\\n\\r\\nvoid main() {\\r\\n    gl_Position = u_projMtx * u_viewMtx * u_modelMtx * a_position;\\r\\n    v_color = a_color;\\r\\n}\");\n\n//# sourceURL=webpack://webgl-learning/./src/common/line.vert?");

/***/ }),

/***/ "./src/common/point.frag":
/*!*******************************!*\
  !*** ./src/common/point.frag ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"precision mediump float;\\r\\n\\r\\nvarying vec4 v_color;\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n    /*\\r\\n    点默认绘制为正方形\\r\\n    gl_PointCoord 为当前片段在点的正方形区域内的坐标\\r\\n    左下角为0,0\\r\\n    右上角为1,1\\r\\n    如下代码实现绘制圆形\\r\\n    */\\r\\n    vec2 coord = gl_PointCoord - vec2(0.5); // 中心化\\r\\n    if(length(coord) > 0.5) {\\r\\n        discard; // 超出半径，丢弃像素\\r\\n    }\\r\\n\\r\\n    gl_FragColor = v_color;\\r\\n\\r\\n}\");\n\n//# sourceURL=webpack://webgl-learning/./src/common/point.frag?");

/***/ }),

/***/ "./src/common/point.vert":
/*!*******************************!*\
  !*** ./src/common/point.vert ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"attribute vec4 a_position;\\r\\nattribute vec4 a_color;\\r\\nattribute float a_size;\\r\\n\\r\\nuniform mat4 u_modelMtx;\\r\\nuniform mat4 u_viewMtx;\\r\\nuniform mat4 u_projMtx;\\r\\n\\r\\nvarying vec4 v_color;\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n    gl_Position = u_projMtx * u_viewMtx * u_modelMtx * a_position;\\r\\n    gl_PointSize = a_size;\\r\\n    v_color = a_color;\\r\\n\\r\\n}\");\n\n//# sourceURL=webpack://webgl-learning/./src/common/point.vert?");

/***/ }),

/***/ "./src/common/triangle.frag":
/*!**********************************!*\
  !*** ./src/common/triangle.frag ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"precision mediump float;\\r\\n\\r\\nuniform sampler2D u_texture;\\r\\nuniform mat4 u_invProjViewMtx;\\r\\nuniform sampler2D u_depthTexture;\\r\\n\\r\\nuniform highp mat4 u_modelMtx;\\r\\nuniform highp mat4 u_projMtx;\\r\\nuniform highp mat4 u_viewMtx;\\r\\n\\r\\nuniform float u_shadow_bias;\\r\\n\\r\\nvarying vec2 v_texcoord;\\r\\nvarying vec3 v_normal;\\r\\nvarying vec4 v_ndsPosition;\\r\\nvarying vec4 v_projectedTexcoord;\\r\\n\\r\\nstruct Material {\\r\\n    vec4 ambient; //ka\\r\\n    vec4 diffuse; //kd\\r\\n    vec4 specular; //ks\\r\\n    vec4 emission; //ke\\r\\n    float shininess; //ns\\r\\n};\\r\\n\\r\\nstruct Light {\\r\\n    vec3 position;\\r\\n    vec4 color;\\r\\n};\\r\\n\\r\\nstruct Camera {\\r\\n    vec3 position;\\r\\n};\\r\\n\\r\\nuniform Material material;\\r\\nuniform Light light;\\r\\nuniform Camera camera;\\r\\n\\r\\nvec4 shadeColorWithTexture(Material material, Light light, vec4 texcolor, vec4 ambient, vec3 normal, vec3 position, vec3 eye) {\\r\\n\\r\\n    float diffuseAlpha = 1.0;\\r\\n\\r\\n    vec3 vlgt = normalize(light.position - position);\\r\\n    vec3 veye = normalize(eye - position);\\r\\n    vec3 vhalf = normalize(vlgt + veye);\\r\\n\\r\\n    vec4 ambientColor = material.ambient * ambient;\\r\\n    vec4 diffuseColor = mix(material.diffuse, texcolor, diffuseAlpha) * light.color * max(dot(normal, vlgt), 0.0);\\r\\n    vec4 specularColor = material.specular * light.color * pow(max(dot(normal, vhalf), 0.0), material.shininess);\\r\\n\\r\\n    vec4 color = ambientColor + diffuseColor + specularColor + material.emission;\\r\\n    return clamp(color, 0.0, 1.0);\\r\\n\\r\\n}\\r\\n\\r\\nmat4 inverseMat4(mat4 m) {\\r\\n    float\\r\\n        a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\\r\\n        a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\\r\\n        a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\\r\\n        a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3];\\r\\n\\r\\n    float\\r\\n        b00 = a00 * a11 - a01 * a10,\\r\\n        b01 = a00 * a12 - a02 * a10,\\r\\n        b02 = a00 * a13 - a03 * a10,\\r\\n        b03 = a01 * a12 - a02 * a11,\\r\\n        b04 = a01 * a13 - a03 * a11,\\r\\n        b05 = a02 * a13 - a03 * a12,\\r\\n        b06 = a20 * a31 - a21 * a30,\\r\\n        b07 = a20 * a32 - a22 * a30,\\r\\n        b08 = a20 * a33 - a23 * a30,\\r\\n        b09 = a21 * a32 - a22 * a31,\\r\\n        b10 = a21 * a33 - a23 * a31,\\r\\n        b11 = a22 * a33 - a23 * a32;\\r\\n\\r\\n    float det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\\r\\n\\r\\n    if (abs(det) < 1e-6) return mat4(0.0); // 不可逆，返回零矩阵\\r\\n\\r\\n    float invDet = 1.0 / det;\\r\\n\\r\\n    return mat4(\\r\\n        ( a11 * b11 - a12 * b10 + a13 * b09) * invDet,\\r\\n        (-a01 * b11 + a02 * b10 - a03 * b09) * invDet,\\r\\n        ( a31 * b05 - a32 * b04 + a33 * b03) * invDet,\\r\\n        (-a21 * b05 + a22 * b04 - a23 * b03) * invDet,\\r\\n\\r\\n        (-a10 * b11 + a12 * b08 - a13 * b07) * invDet,\\r\\n        ( a00 * b11 - a02 * b08 + a03 * b07) * invDet,\\r\\n        (-a30 * b05 + a32 * b02 - a33 * b01) * invDet,\\r\\n        ( a20 * b05 - a22 * b02 + a23 * b01) * invDet,\\r\\n\\r\\n        ( a10 * b10 - a11 * b08 + a13 * b06) * invDet,\\r\\n        (-a00 * b10 + a01 * b08 - a03 * b06) * invDet,\\r\\n        ( a30 * b04 - a31 * b02 + a33 * b00) * invDet,\\r\\n        (-a20 * b04 + a21 * b02 - a23 * b00) * invDet,\\r\\n\\r\\n        (-a10 * b09 + a11 * b07 - a12 * b06) * invDet,\\r\\n        ( a00 * b09 - a01 * b07 + a02 * b06) * invDet,\\r\\n        (-a30 * b03 + a31 * b01 - a32 * b00) * invDet,\\r\\n        ( a20 * b03 - a21 * b01 + a22 * b00) * invDet\\r\\n    );\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n    vec3 pos = (u_invProjViewMtx * v_ndsPosition).xyz;\\r\\n    vec3 eye = camera.position;\\r\\n    vec4 ambient = vec4(1, 1, 1, 1); //环境光\\r\\n    vec4 texcolor = vec4(0, 0, 0, 1);\\r\\n\\r\\n    texcolor = texture2D(u_texture, v_texcoord);\\r\\n\\r\\n    //shadow\\r\\n    vec3 projectedTexcoord = v_projectedTexcoord.xyz / v_projectedTexcoord.w;\\r\\n    projectedTexcoord = projectedTexcoord * 0.5 + 0.5;\\r\\n    float currentDepth = projectedTexcoord.z;\\r\\n\\r\\n    bool inRange =\\r\\n        projectedTexcoord.x >= 0.0 &&\\r\\n        projectedTexcoord.x <= 1.0 &&\\r\\n        projectedTexcoord.y >= 0.0 &&\\r\\n        projectedTexcoord.y <= 1.0;\\r\\n\\r\\n    // the 'r' channel has the depth values\\r\\n    float projectedDepth = texture2D(u_depthTexture, projectedTexcoord.xy).r;\\r\\n    float shadowLight = (inRange && projectedDepth <= currentDepth - u_shadow_bias) ? 0.0 : 1.0;\\r\\n\\r\\n    vec4 shadeColor = shadeColorWithTexture(material, light, texcolor, ambient, v_normal, pos, eye);\\r\\n    gl_FragColor = vec4(shadeColor.rgb * shadowLight, shadeColor.a);\\r\\n    // gl_FragColor = inRange ? vec4(1.0,0.0,0.0,1.0) : vec4(0.0,1.0,0.0,1.0) ;\\r\\n    // gl_FragColor = vec4(projectedDepth,projectedDepth,projectedDepth,1.0);\\r\\n\\r\\n}\");\n\n//# sourceURL=webpack://webgl-learning/./src/common/triangle.frag?");

/***/ }),

/***/ "./src/common/triangle.vert":
/*!**********************************!*\
  !*** ./src/common/triangle.vert ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"attribute vec4 a_position;\\r\\nattribute vec3 a_normal;\\r\\nattribute vec2 a_texcoord;\\r\\n\\r\\nuniform highp mat4 u_modelMtx;\\r\\nuniform highp mat4 u_projMtx;\\r\\nuniform highp mat4 u_viewMtx;\\r\\n\\r\\nuniform highp mat4 u_textureMatrix;\\r\\n\\r\\nvarying vec2 v_texcoord;\\r\\nvarying vec3 v_normal;\\r\\nvarying vec4 v_ndsPosition;\\r\\nvarying vec4 v_projectedTexcoord;\\r\\n\\r\\nvoid main() {\\r\\n    v_projectedTexcoord = u_textureMatrix * u_modelMtx * a_position;\\r\\n    v_ndsPosition = u_projMtx * u_viewMtx * u_modelMtx * a_position;\\r\\n    gl_Position = v_ndsPosition;\\r\\n    v_texcoord = a_texcoord;\\r\\n    v_normal = normalize(a_normal);\\r\\n}\");\n\n//# sourceURL=webpack://webgl-learning/./src/common/triangle.vert?");

/***/ }),

/***/ "./src/demo17/demo17.css":
/*!*******************************!*\
  !*** ./src/demo17/demo17.css ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_demo17_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../node_modules/css-loader/dist/cjs.js!./demo17.css */ \"./node_modules/css-loader/dist/cjs.js!./src/demo17/demo17.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_demo17_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_demo17_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_demo17_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_demo17_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack://webgl-learning/./src/demo17/demo17.css?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack://webgl-learning/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack://webgl-learning/./node_modules/style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack://webgl-learning/./node_modules/style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack://webgl-learning/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack://webgl-learning/./node_modules/style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack://webgl-learning/./node_modules/style-loader/dist/runtime/styleTagTransform.js?");

/***/ }),

/***/ "./src/common/camera.js":
/*!******************************!*\
  !*** ./src/common/camera.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CameraMouseControl: () => (/* binding */ CameraMouseControl),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/vec4.js\");\n/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/mat4.js\");\n/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/vec3.js\");\n\n\n/**\r\n * @class Camera\r\n * @property {vec4} from 相机位置点\r\n * @property {vec4} to 相机目标点\r\n * @property {vec4} up 相机up向量\r\n * @property {mat4} viewMtx 视矩阵\r\n * @property {mat4} invViewMtx 视矩阵的逆\r\n*/\nclass Camera {\n  from = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.fromValues(1, 1, 1, 1);\n  to = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.fromValues(0, 0, 0, 1);\n  up = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.fromValues(0, 1, 0, 0);\n  viewMtx = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();\n  invViewMtx = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();\n  constructor(from, to, up) {\n    this.setFrom(from);\n    this.setTo(to);\n    this.setUp(up);\n  }\n  setFrom(vin) {\n    this.setVector4(this.from, vin);\n  }\n  setTo(vin) {\n    this.setVector4(this.to, vin);\n  }\n  setUp(vin) {\n    this.setVector4(this.up, vin);\n  }\n  setVector4(vout, vin) {\n    const len = vin.length;\n    if (len < 3) {\n      console.log(\"len < 3\");\n    } else if (len == 3) {\n      gl_matrix__WEBPACK_IMPORTED_MODULE_0__.set(vout, vin[0], vin[1], vin[2], 1);\n    } else {\n      gl_matrix__WEBPACK_IMPORTED_MODULE_0__.set(vout, vin[0], vin[1], vin[2], vin[3]);\n    }\n  }\n  _vec3(v) {\n    return gl_matrix__WEBPACK_IMPORTED_MODULE_2__.set(gl_matrix__WEBPACK_IMPORTED_MODULE_2__.create(), v[0], v[1], v[2]);\n  }\n  _look() {\n    gl_matrix__WEBPACK_IMPORTED_MODULE_1__.lookAt(this.viewMtx, this._vec3(this.from), this._vec3(this.to), this._vec3(this.up));\n    gl_matrix__WEBPACK_IMPORTED_MODULE_1__.invert(this.invViewMtx, this.viewMtx);\n  }\n  getFrom() {\n    return this.from;\n  }\n  getMatrix() {\n    this._look();\n    return {\n      viewMtx: this.viewMtx,\n      invViewMtx: this.invViewMtx\n    };\n  }\n\n  /**\r\n   * @description 相机绕目标点(to)旋转\r\n   * @param {number} dx x方向上旋转（绕y轴旋转）的角度\r\n   * @param {number} dy y方向上旋转（绕x轴旋转）的角度\r\n   * @returns {void}\r\n  */\n  round(dx, dy) {\n    const viewFrom4 = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(), this.from, this.viewMtx);\n    const viewTo4 = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(), this.to, this.viewMtx);\n    const viewFrom3 = this._vec3(viewFrom4);\n    const viewTo3 = this._vec3(viewTo4);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_2__.rotateY(viewFrom3, viewFrom3, viewTo3, dx); // 绕Y轴旋转dx\n    gl_matrix__WEBPACK_IMPORTED_MODULE_2__.rotateX(viewFrom3, viewFrom3, viewTo3, dy); // 绕x轴旋转dy\n\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.set(viewFrom4, viewFrom3[0], viewFrom3[1], viewFrom3[2], 1);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(this.from, viewFrom4, this.invViewMtx);\n    this._look();\n  }\n\n  /**\r\n   * @description 缩放（相机前进或后退）\r\n   * @param {number} f 缩放系数 \r\n  */\n  zoom(f) {\n    const d = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create();\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.sub(d, this.to, this.from);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.multiply(d, d, [f, f, f, f]);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.add(this.from, this.from, d);\n    this._look();\n  }\n\n  /**\r\n   * @description 相机平移\r\n   * @param {number} dx x轴方向平移量\r\n   * @param {number} dy y轴方向平移量\r\n  */\n  move(dx, dy) {\n    const viewFrom4 = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(), this.from, this.viewMtx);\n    const viewTo4 = gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(gl_matrix__WEBPACK_IMPORTED_MODULE_0__.create(), this.to, this.viewMtx);\n    const mtx = gl_matrix__WEBPACK_IMPORTED_MODULE_1__.create();\n    gl_matrix__WEBPACK_IMPORTED_MODULE_1__.translate(mtx, mtx, [dx, dy, 0]);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(viewFrom4, viewFrom4, mtx);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(viewTo4, viewTo4, mtx);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(this.from, viewFrom4, this.invViewMtx);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_0__.transformMat4(this.to, viewTo4, this.invViewMtx);\n    this._look();\n  }\n}\n;\nconst LEFTBUTTON = 0;\nconst WHEELBUTTON = 1;\nconst RIGHTBUTTON = 2;\nclass CameraMouseControl {\n  camera = null;\n  canvas = null;\n  leftButtonDown = false;\n  wheelButtonDown = false;\n  lastMouseX = 0;\n  lastMouseY = 0;\n  handleMouseDownFunc = null;\n  handleMouseMoveFunc = null;\n  handleMouseUpFunc = null;\n  handleMouseLeaveFunc = null;\n  handleMouseWheelFunc = null;\n\n  /**\r\n   * @param {Camera} camera\r\n   * @param {HTMLElement} canvas  \r\n  */\n  constructor(camera, canvas) {\n    this.camera = camera;\n    this.canvas = canvas;\n  }\n  handleMouseDown() {\n    const that = this;\n    return e => {\n      if (e.button == LEFTBUTTON) {\n        that.leftButtonDown = true;\n      } else if (e.button == WHEELBUTTON) {\n        that.wheelButtonDown = true;\n      }\n      that.lastMouseX = e.clientX;\n      that.lastMouseY = e.clientY;\n    };\n  }\n  handleMouseMove() {\n    const that = this;\n    return e => {\n      if (this.leftButtonDown) {\n        const dx = e.clientX - that.lastMouseX;\n        const dy = e.clientY - that.lastMouseY;\n        that.camera.round(-dx / 200, -dy / 200);\n      } else if (this.wheelButtonDown) {\n        e.preventDefault();\n        const dx = e.clientX - that.lastMouseX;\n        const dy = e.clientY - that.lastMouseY;\n        that.camera.move(-dx / 5, dy / 5);\n      }\n      that.lastMouseX = e.clientX;\n      that.lastMouseY = e.clientY;\n    };\n  }\n  handleMouseUp() {\n    const that = this;\n    return e => {\n      if (e.button == LEFTBUTTON) {\n        that.leftButtonDown = false;\n      }\n      if (e.button == WHEELBUTTON) {\n        that.wheelButtonDown = false;\n      }\n    };\n  }\n  handleMouseLeave() {\n    const that = this;\n    return e => {\n      that.leftButtonDown = false;\n      that.wheelButtonDown = false;\n    };\n  }\n  handleMouseWheel() {\n    const that = this;\n    return e => {\n      e.preventDefault();\n      this.camera.zoom(e.wheelDeltaY / 120 * (1 / 10));\n    };\n  }\n  enable() {\n    this.handleMouseDownFunc = this.handleMouseDown();\n    this.handleMouseMoveFunc = this.handleMouseMove();\n    this.handleMouseUpFunc = this.handleMouseUp();\n    this.handleMouseLeaveFunc = this.handleMouseLeave();\n    this.handleMouseWheelFunc = this.handleMouseWheel();\n    this.canvas.addEventListener('mousedown', this.handleMouseDownFunc);\n    this.canvas.addEventListener('mousemove', this.handleMouseMoveFunc);\n    this.canvas.addEventListener('mouseup', this.handleMouseUpFunc);\n    this.canvas.addEventListener('mouseleave', this.handleMouseLeaveFunc);\n    this.canvas.addEventListener('wheel', this.handleMouseWheelFunc);\n  }\n  disable() {\n    this.canvas.removeEventListener('mousedown', this.handleMouseDownFunc);\n    this.canvas.removeEventListener('mousemove', this.handleMouseMoveFunc);\n    this.canvas.removeEventListener('mouseup', this.handleMouseUpFunc);\n    this.canvas.removeEventListener('mouseleave', this.handleMouseLeaveFunc);\n    this.canvas.removeEventListener('wheel', this.handleMouseWheelFunc);\n    this.handleMouseDownFunc = null;\n    this.handleMouseMoveFunc = null;\n    this.handleMouseUpFunc = null;\n    this.handleMouseLeaveFunc = null;\n    this.handleMouseWheelFunc = null;\n  }\n}\n;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Camera);\n\n//# sourceURL=webpack://webgl-learning/./src/common/camera.js?");

/***/ }),

/***/ "./src/common/material.js":
/*!********************************!*\
  !*** ./src/common/material.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlinnPhongMaterial: () => (/* binding */ BlinnPhongMaterial),\n/* harmony export */   color01Hex2RGB: () => (/* binding */ color01Hex2RGB),\n/* harmony export */   color01RGB2Hex: () => (/* binding */ color01RGB2Hex)\n/* harmony export */ });\nfunction color01Hex2RGB(hex) {\n  // 去掉开头的 #\n  hex = hex.replace(/^#/, '');\n\n  // 解析出 r、g、b\n  const r = parseInt(hex.substring(0, 2), 16);\n  const g = parseInt(hex.substring(2, 4), 16);\n  const b = parseInt(hex.substring(4, 6), 16);\n  return [r / 255.0, g / 255.0, b / 255.0];\n}\nfunction color01RGB2Hex(rgb) {\n  return '#' + rgb.map(value => {\n    const hex = parseInt(value * 255).toString(16); // 转成16进制\n    return hex.length === 1 ? '0' + hex : hex; // 补0，比如 'a' 变成 '0a'\n  }).join('');\n}\nclass BlinnPhongMaterial {\n  ambient = [];\n  diffuse = [];\n  specular = [];\n  emission = [];\n  shininess = [];\n}\n;\n\n//# sourceURL=webpack://webgl-learning/./src/common/material.js?");

/***/ }),

/***/ "./src/common/webglutils.js":
/*!**********************************!*\
  !*** ./src/common/webglutils.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createChessBoardTexture: () => (/* binding */ createChessBoardTexture),\n/* harmony export */   createCone: () => (/* binding */ createCone),\n/* harmony export */   createConeAtOrigin: () => (/* binding */ createConeAtOrigin),\n/* harmony export */   createCube: () => (/* binding */ createCube),\n/* harmony export */   createLineMesh: () => (/* binding */ createLineMesh),\n/* harmony export */   createLineProgram: () => (/* binding */ createLineProgram),\n/* harmony export */   createPointProgram: () => (/* binding */ createPointProgram),\n/* harmony export */   createPoints: () => (/* binding */ createPoints),\n/* harmony export */   createRectangle: () => (/* binding */ createRectangle),\n/* harmony export */   createSphere: () => (/* binding */ createSphere),\n/* harmony export */   createTriangleProgram: () => (/* binding */ createTriangleProgram),\n/* harmony export */   drawLine: () => (/* binding */ drawLine),\n/* harmony export */   drawMesh: () => (/* binding */ drawMesh),\n/* harmony export */   drawPoint: () => (/* binding */ drawPoint),\n/* harmony export */   lineBindBuffer: () => (/* binding */ lineBindBuffer),\n/* harmony export */   meshBindBuffer: () => (/* binding */ meshBindBuffer),\n/* harmony export */   pointBindBuffer: () => (/* binding */ pointBindBuffer)\n/* harmony export */ });\n/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/vec3.js\");\n/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/mat4.js\");\n/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/vec4.js\");\n/* harmony import */ var _line_vert__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./line.vert */ \"./src/common/line.vert\");\n/* harmony import */ var _line_frag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./line.frag */ \"./src/common/line.frag\");\n/* harmony import */ var _point_vert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./point.vert */ \"./src/common/point.vert\");\n/* harmony import */ var _point_frag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./point.frag */ \"./src/common/point.frag\");\n/* harmony import */ var _triangle_vert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./triangle.vert */ \"./src/common/triangle.vert\");\n/* harmony import */ var _triangle_frag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./triangle.frag */ \"./src/common/triangle.frag\");\n\n\n\n\n\n\n\n\n/**\r\n * @param {WebGLRenderingContext} gl \r\n*/\nfunction createTriangleProgram(gl) {\n  /* 创建程序 */\n  const program = gl.createProgram();\n\n  /* 程序加载着色器 */\n  const vertShader = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vertShader, _triangle_vert__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n  gl.compileShader(vertShader);\n  gl.attachShader(program, vertShader);\n  const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fragShader, _triangle_frag__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n  gl.compileShader(fragShader);\n  gl.attachShader(program, fragShader);\n  gl.linkProgram(program);\n  if (!program) {\n    console.error(\"program is null\");\n  }\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    console.error('Program failed to link:', gl.getProgramInfoLog(program));\n  }\n  return {\n    program: program,\n    a_position: gl.getAttribLocation(program, 'a_position'),\n    a_normal: gl.getAttribLocation(program, 'a_normal'),\n    a_texcoord: gl.getAttribLocation(program, 'a_texcoord'),\n    u_modelMtx: gl.getUniformLocation(program, 'u_modelMtx'),\n    u_viewMtx: gl.getUniformLocation(program, 'u_viewMtx'),\n    u_projMtx: gl.getUniformLocation(program, 'u_projMtx'),\n    u_texture: gl.getUniformLocation(program, 'u_texture'),\n    u_invProjViewMtx: gl.getUniformLocation(program, 'u_invProjViewMtx'),\n    u_textureMatrix: gl.getUniformLocation(program, 'u_textureMatrix'),\n    u_depthTexture: gl.getUniformLocation(program, 'u_depthTexture'),\n    u_shadow_bias: gl.getUniformLocation(program, 'u_shadow_bias'),\n    material: {\n      u_ambient: gl.getUniformLocation(program, 'material.ambient'),\n      u_diffuse: gl.getUniformLocation(program, 'material.diffuse'),\n      u_specular: gl.getUniformLocation(program, 'material.specular'),\n      u_emission: gl.getUniformLocation(program, 'material.emission'),\n      u_shininess: gl.getUniformLocation(program, 'material.shininess'),\n      u_ambient: gl.getUniformLocation(program, 'material.ambient')\n    },\n    light: {\n      u_position: gl.getUniformLocation(program, 'light.position'),\n      u_color: gl.getUniformLocation(program, 'light.color')\n    },\n    camera: {\n      u_position: gl.getUniformLocation(program, 'camera.position')\n    }\n  };\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl \r\n*/\nfunction createLineProgram(gl) {\n  /* 创建程序 */\n  const program = gl.createProgram();\n\n  /* 程序加载着色器 */\n  const vertShader = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vertShader, _line_vert__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n  gl.compileShader(vertShader);\n  gl.attachShader(program, vertShader);\n  const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fragShader, _line_frag__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n  gl.compileShader(fragShader);\n  gl.attachShader(program, fragShader);\n  gl.linkProgram(program);\n  if (!program) {\n    console.error(\"program is null\");\n  }\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    console.error('Program failed to link:', gl.getProgramInfoLog(program));\n  }\n  return {\n    program: program,\n    a_position: gl.getAttribLocation(program, 'a_position'),\n    a_color: gl.getAttribLocation(program, 'a_color'),\n    u_modelMtx: gl.getUniformLocation(program, 'u_modelMtx'),\n    u_viewMtx: gl.getUniformLocation(program, 'u_viewMtx'),\n    u_projMtx: gl.getUniformLocation(program, 'u_projMtx')\n  };\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl \r\n*/\nfunction createPointProgram(gl) {\n  /* 创建程序 */\n  const program = gl.createProgram();\n\n  /* 程序加载着色器 */\n  const vertShader = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vertShader, _point_vert__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n  gl.compileShader(vertShader);\n  gl.attachShader(program, vertShader);\n  const fragShader = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fragShader, _point_frag__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n  gl.compileShader(fragShader);\n  gl.attachShader(program, fragShader);\n  gl.linkProgram(program);\n  if (!program) {\n    console.error(\"program is null\");\n  }\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    console.error('Program failed to link:', gl.getProgramInfoLog(program));\n  }\n  return {\n    program: program,\n    a_position: gl.getAttribLocation(program, 'a_position'),\n    a_color: gl.getAttribLocation(program, 'a_color'),\n    a_size: gl.getAttribLocation(program, 'a_size'),\n    u_modelMtx: gl.getUniformLocation(program, 'u_modelMtx'),\n    u_viewMtx: gl.getUniformLocation(program, 'u_viewMtx'),\n    u_projMtx: gl.getUniformLocation(program, 'u_projMtx')\n  };\n}\nfunction meshBindBuffer(gl, mesh, bufferInfo = {\n  positionBuffer: gl.createBuffer(),\n  normalBuffer: gl.createBuffer(),\n  texcoordBuffer: gl.createBuffer()\n}) {\n  mesh.bufferInfo = bufferInfo;\n  const positionBuffer = bufferInfo.positionBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, mesh.vertices, gl.STATIC_DRAW);\n  const normalBuffer = bufferInfo.normalBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, normalBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, mesh.normals, gl.STATIC_DRAW);\n  const texcoordBuffer = bufferInfo.texcoordBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, mesh.texcoords, gl.STATIC_DRAW);\n}\nfunction lineBindBuffer(gl, line, bufferInfo = {\n  positionBuffer: gl.createBuffer(),\n  colorBuffer: gl.createBuffer()\n}) {\n  line.bufferInfo = bufferInfo;\n  const positionBuffer = bufferInfo.positionBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, line.vertices, gl.STATIC_DRAW);\n  const colorBuffer = bufferInfo.colorBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, line.colors, gl.STATIC_DRAW);\n}\nfunction pointBindBuffer(gl, point, bufferInfo = {\n  positionBuffer: gl.createBuffer(),\n  colorBuffer: gl.createBuffer(),\n  sizeBuffer: gl.createBuffer()\n}) {\n  point.bufferInfo = bufferInfo;\n  const positionBuffer = bufferInfo.positionBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, point.vertices, gl.STATIC_DRAW);\n  const colorBuffer = bufferInfo.colorBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, point.colors, gl.STATIC_DRAW);\n  const sizeBuffer = bufferInfo.sizeBuffer;\n  gl.bindBuffer(gl.ARRAY_BUFFER, sizeBuffer);\n  gl.bufferData(gl.ARRAY_BUFFER, point.sizes, gl.STATIC_DRAW);\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {object} programInfo\r\n * @param {object} bufferInfo \r\n * @param {object} mesh   \r\n*/\nfunction drawMesh(gl, programInfo, mesh) {\n  if (programInfo.a_position >= 0) {\n    const positionBuffer = mesh.bufferInfo.positionBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    // gl.bufferData(gl.ARRAY_BUFFER, mesh.vertices, gl.STATIC_DRAW);\n    gl.vertexAttribPointer(programInfo.a_position, mesh.verticeSize, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_position);\n  }\n  if (programInfo.a_normal >= 0) {\n    const normalBuffer = mesh.bufferInfo.normalBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, normalBuffer);\n    // gl.bufferData(gl.ARRAY_BUFFER, mesh.normals, gl.STATIC_DRAW);\n    gl.vertexAttribPointer(programInfo.a_normal, 3, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_normal);\n  }\n  if (programInfo.a_texcoord >= 0) {\n    const texcoordBuffer = mesh.bufferInfo.texcoordBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n    // gl.bufferData(gl.ARRAY_BUFFER, mesh.texcoords, gl.STATIC_DRAW);\n    gl.vertexAttribPointer(programInfo.a_texcoord, 2, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_texcoord);\n  }\n  gl.drawArrays(gl.TRIANGLES, 0, mesh.nvertices);\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {object} programInfo\r\n * @param {object} line   \r\n*/\nfunction drawLine(gl, programInfo, line) {\n  if (programInfo.a_position >= 0) {\n    const positionBuffer = line.bufferInfo.positionBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(programInfo.a_position, line.verticeSize, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_position);\n  }\n  if (programInfo.a_color >= 0) {\n    const colorBuffer = line.bufferInfo.colorBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);\n    gl.vertexAttribPointer(programInfo.a_color, line.colorSize, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_color);\n  }\n  gl.drawArrays(line.type, 0, line.nvertices);\n}\nfunction drawPoint(gl, programInfo, point) {\n  if (programInfo.a_position >= 0) {\n    const positionBuffer = point.bufferInfo.positionBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(programInfo.a_position, point.verticeSize, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_position);\n  }\n  if (programInfo.a_color >= 0) {\n    const colorBuffer = point.bufferInfo.colorBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, colorBuffer);\n    gl.vertexAttribPointer(programInfo.a_color, point.colorSize, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_color);\n  }\n  if (programInfo.a_size >= 0) {\n    const sizeBuffer = point.bufferInfo.sizeBuffer;\n    gl.bindBuffer(gl.ARRAY_BUFFER, sizeBuffer);\n    gl.vertexAttribPointer(programInfo.a_size, 1, gl.FLOAT, false, 0, 0);\n    gl.enableVertexAttribArray(programInfo.a_size);\n  }\n  gl.drawArrays(gl.POINTS, 0, point.nvertices);\n}\n\n/**\r\n * @param {WebGL2RenderingContext} gl \r\n * \r\n*/\nfunction createChessBoardTexture(gl, height, width, c0, c1) {\n  const alignment = 1;\n  gl.pixelStorei(gl.UNPACK_ALIGNMENT, alignment); // 解决这个错误 WebGL: INVALID_OPERATION: texImage2D: ArrayBufferView not big enough for request\n\n  const array = [];\n  let c = c0;\n  for (let i = 0; i < height; ++i) {\n    if (i % 2 == 0) {\n      c = c0;\n    }\n    if (i % 2 == 1) {\n      c = c1;\n    } else if (c === c1) {\n      c = c0;\n    }\n    for (let j = 0; j < width; ++j) {\n      array.push(c);\n      if (c === c0) {\n        c = c1;\n      } else if (c === c1) {\n        c = c0;\n      }\n    }\n  }\n  return {\n    data: new Uint8Array(array),\n    height: height,\n    width: width,\n    type: gl.UNSIGNED_BYTE,\n    internalFormat: gl.LUMINANCE,\n    format: gl.LUMINANCE\n  };\n}\nfunction caculateRectangleNormal(p0, p1, p2) {\n  const vp0 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(p0[0], p0[1], p0[2]);\n  const vp1 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(p1[0], p1[1], p1[2]);\n  const vp2 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(p2[0], p2[1], p2[2]);\n  const v1 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vp1, vp0);\n  const v2 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vp2, vp0);\n  const n = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.cross(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), v1, v2);\n  const nn = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), n);\n  return nn;\n}\nfunction createRectangle(gl, p0 = [-1, -1, 0], p1 = [1, 1, 1]) {\n  let a0 = p0;\n  let a1 = [p1[0], p0[1], p0[2]];\n  let a2 = p1;\n  let a3 = [p0[0], p1[1], p1[2]];\n  if (p0[0] === p1[0]) {\n    a0 = p0;\n    a1 = [p0[0], p1[1], p0[2]];\n    a2 = [p0[0], p1[1], p1[2]];\n    a3 = [p0[0], p0[1], p1[2]];\n  }\n  const vertices = [...a0, ...a2, ...a3, ...a0, ...a1, ...a2];\n  const v0 = caculateRectangleNormal(a0, a2, a3);\n  const v1 = caculateRectangleNormal(a0, a1, a2);\n  const normals = [...v0, ...v0, ...v0, ...v1, ...v1, ...v1];\n  const texcoords = [0, 0, 1, 1, 0, 1, 0, 0, 1, 0, 1, 1];\n  return {\n    hasIndices: false,\n    nvertices: 6,\n    verticeSize: 3,\n    vertices: new Float32Array(vertices),\n    normals: new Float32Array(normals),\n    texcoords: new Float32Array(texcoords)\n  };\n}\nfunction createCube(gl, p0, p1) {\n  let t = 0;\n  if (p0[0] > p1[0]) {\n    t = p0[0];\n    p0[0] = p1[0];\n    p1[0] = t;\n  }\n  if (p0[1] > p1[1]) {\n    t = p0[1];\n    p0[1] = p1[1];\n    p1[1] = t;\n  }\n  if (p0[2] > p1[2]) {\n    t = p0[2];\n    p0[2] = p1[2];\n    p1[2] = t;\n  }\n  const vertices = [];\n  const normals = [];\n  const texcoords = [];\n  let nvertices = 0;\n  //front\n  let a = [p1[0], p0[1], p0[2]];\n  let b = [p1[0], p1[1], p1[2]];\n  let rect = createRectangle(gl, a, b);\n  vertices.push(...rect.vertices);\n  normals.push(...rect.normals);\n  texcoords.push(...rect.texcoords);\n  nvertices += rect.nvertices;\n  //back\n  a = [p0[0], p1[1], p0[2]];\n  b = [p0[0], p0[1], p1[2]];\n  rect = createRectangle(gl, a, b);\n  vertices.push(...rect.vertices);\n  normals.push(...rect.normals);\n  texcoords.push(...rect.texcoords);\n  nvertices += rect.nvertices;\n  //left\n  a = p0;\n  b = [p1[0], p0[1], p1[2]];\n  rect = createRectangle(gl, a, b);\n  vertices.push(...rect.vertices);\n  normals.push(...rect.normals);\n  texcoords.push(...rect.texcoords);\n  nvertices += rect.nvertices;\n  //right\n  a = [p1[0], p1[1], p0[2]];\n  b = [p0[0], p1[1], p1[2]];\n  rect = createRectangle(gl, a, b);\n  vertices.push(...rect.vertices);\n  normals.push(...rect.normals);\n  texcoords.push(...rect.texcoords);\n  nvertices += rect.nvertices;\n  //up\n  a = [p0[0], p0[1], p1[2]];\n  b = [p1[0], p1[1], p1[2]];\n  rect = createRectangle(gl, a, b);\n  vertices.push(...rect.vertices);\n  normals.push(...rect.normals);\n  texcoords.push(...rect.texcoords);\n  nvertices += rect.nvertices;\n  //down\n  a = [p1[0], p0[1], p0[2]];\n  b = [p0[0], p1[1], p0[2]];\n  rect = createRectangle(gl, a, b);\n  vertices.push(...rect.vertices);\n  normals.push(...rect.normals);\n  texcoords.push(...rect.texcoords);\n  nvertices += rect.nvertices;\n  return {\n    hasIndices: false,\n    nvertices: nvertices,\n    verticeSize: 3,\n    vertices: new Float32Array(vertices),\n    normals: new Float32Array(normals),\n    texcoords: new Float32Array(texcoords)\n  };\n}\nfunction pointOnSphere(r, a, b) {\n  const x = r * Math.sin(b) * Math.cos(a);\n  const y = r * Math.sin(b) * Math.sin(a);\n  const z = r * Math.cos(b);\n  return [x, y, z];\n}\nfunction pointTranslate(p, dx, dy, dz) {\n  return [p[0] + dx, p[1] + dy, p[2] + dz];\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {number} radius  \r\n*/\nfunction createSphere(gl, radius = 1, xseg = 10, yseg = 10, center = [0, 0, 0]) {\n  const vertices = [];\n  const normals = [];\n  const texcoords = [];\n  const alpha = 2 * Math.PI / xseg;\n  const beta = Math.PI / yseg;\n  for (let i = 0; i < xseg; ++i) {\n    for (let j = 0; j < yseg; ++j) {\n      const a0 = -Math.PI + i * alpha;\n      const a1 = -Math.PI + (i + 1) * alpha;\n      const b0 = -Math.PI / 2 + j * beta;\n      const b1 = -Math.PI / 2 + (j + 1) * beta;\n      const p0 = pointTranslate(pointOnSphere(radius, a0, Math.PI / 2 - b0), center[0], center[1], center[2]);\n      const p1 = pointTranslate(pointOnSphere(radius, a1, Math.PI / 2 - b0), center[0], center[1], center[2]);\n      const p2 = pointTranslate(pointOnSphere(radius, a1, Math.PI / 2 - b1), center[0], center[1], center[2]);\n      const p3 = pointTranslate(pointOnSphere(radius, a0, Math.PI / 2 - b1), center[0], center[1], center[2]);\n      const nv0 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p0), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...center));\n      const nv1 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p1), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...center));\n      const nv2 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p2), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...center));\n      const nv3 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p3), gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...center));\n      vertices.push(...p0);\n      normals.push(...nv0);\n      texcoords.push((a0 + Math.PI) / (2 * Math.PI), (b0 + Math.PI / 2) / Math.PI);\n      vertices.push(...p2);\n      normals.push(...nv2);\n      texcoords.push((a1 + Math.PI) / (2 * Math.PI), (b1 + Math.PI / 2) / Math.PI);\n      vertices.push(...p3);\n      normals.push(...nv3);\n      texcoords.push((a0 + Math.PI) / (2 * Math.PI), (b1 + Math.PI / 2) / Math.PI);\n      vertices.push(...p0);\n      normals.push(...nv0);\n      texcoords.push((a0 + Math.PI) / (2 * Math.PI), (b0 + Math.PI / 2) / Math.PI);\n      vertices.push(...p1);\n      normals.push(...nv1);\n      texcoords.push((a1 + Math.PI) / (2 * Math.PI), (b0 + Math.PI / 2) / Math.PI);\n      vertices.push(...p2);\n      normals.push(...nv2);\n      texcoords.push((a1 + Math.PI) / (2 * Math.PI), (b1 + Math.PI / 2) / Math.PI);\n    }\n  }\n  return {\n    type: gl.TRIANGLES,\n    hasIndices: false,\n    nvertices: vertices.length / 3,\n    verticeSize: 3,\n    vertices: new Float32Array(vertices),\n    normals: new Float32Array(normals),\n    texcoords: new Float32Array(texcoords)\n  };\n}\n\n/**\r\n * 创建一个旋转矩阵，将from向量旋转到to向量方向\r\n * @param {vec3} from 源向量\r\n * @param {vec3} to 目标向量\r\n * @returns {mat4} 旋转矩阵\r\n */\nfunction createRotationMatrix(from, to) {\n  // 归一化向量\n  const vFrom = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), from);\n  const vTo = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), to);\n\n  // 计算旋转轴\n  const axis = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.cross(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vFrom, vTo);\n  const axisLength = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.length(axis);\n\n  // 如果两向量已经平行（同向或反向）\n  if (axisLength < 1e-6) {\n    const dot = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.dot(vFrom, vTo);\n    if (dot > 0.9999) {\n      // 同方向，返回单位矩阵\n      return gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create();\n    } else {\n      // 反方向，需要旋转180度，找一个任意垂直的轴\n      let temp = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(1, 0, 0);\n      if (Math.abs(vFrom[0]) > 0.9) {\n        temp = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(0, 1, 0);\n      }\n      const orthoAxis = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.cross(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vFrom, temp);\n      gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(orthoAxis, orthoAxis);\n      const out = gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create();\n      gl_matrix__WEBPACK_IMPORTED_MODULE_7__.rotate(out, out, Math.PI, orthoAxis);\n      return out;\n    }\n  }\n\n  // 正常情况\n  gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(axis, axis);\n\n  // 计算角度\n  const angle = Math.acos(Math.min(Math.max(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.dot(vFrom, vTo), -1.0), 1.0));\n\n  // 构造旋转矩阵\n  const out = gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create();\n  gl_matrix__WEBPACK_IMPORTED_MODULE_7__.rotate(out, out, angle, axis);\n  return out;\n}\nfunction coneMoveMtx(p0, p1, p2, p3) {\n  const vp0 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p0);\n  const vp1 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p1);\n  const vp2 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p2);\n  const vp3 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p3);\n  const v1 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vp1, vp0);\n  const v2 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vp3, vp2);\n  gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(v1, v1);\n  gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(v2, v2);\n  const R = createRotationMatrix(v1, v2);\n  const T1 = gl_matrix__WEBPACK_IMPORTED_MODULE_7__.translate(gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create(), gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create(), [-p0[0], -p0[1], -p0[2]]);\n  const T2 = gl_matrix__WEBPACK_IMPORTED_MODULE_7__.translate(gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create(), gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create(), [p2[0], p2[1], p2[2]]);\n  const M = gl_matrix__WEBPACK_IMPORTED_MODULE_7__.create();\n  gl_matrix__WEBPACK_IMPORTED_MODULE_7__.multiply(M, M, T2);\n  gl_matrix__WEBPACK_IMPORTED_MODULE_7__.multiply(M, M, R);\n  gl_matrix__WEBPACK_IMPORTED_MODULE_7__.multiply(M, M, T1);\n  return M;\n}\n\n// p0 顶点\n// p1 底点\nfunction createCone(gl, p0, p1, radius = 1, hseg = 10, vseg = 10) {\n  const vp0 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(p0[0], p0[1], p0[2]);\n  const vp1 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(p1[0], p1[1], p1[2]);\n  const v = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vp0, vp1);\n  const h = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.length(v);\n  console.log(`h: ${h}`);\n  const p2 = [0, 0, 0];\n  const p3 = [0, 0, h];\n  const M = coneMoveMtx(p2, p3, p0, p1);\n  const cone = createConeAtOrigin(gl, radius, h, hseg, vseg);\n  for (let i = 0; i < cone.nvertices; ++i) {\n    const x = cone.vertices[i * 3];\n    const y = cone.vertices[i * 3 + 1];\n    const z = cone.vertices[i * 3 + 2];\n    const vc = gl_matrix__WEBPACK_IMPORTED_MODULE_8__.fromValues(x, y, z, 1);\n    const tvc = gl_matrix__WEBPACK_IMPORTED_MODULE_8__.transformMat4(gl_matrix__WEBPACK_IMPORTED_MODULE_8__.create(), vc, M);\n    cone.vertices[i * 3] = tvc[0];\n    cone.vertices[i * 3 + 1] = tvc[1];\n    cone.vertices[i * 3 + 2] = tvc[2];\n    const nx = cone.normals[i * 3];\n    const ny = cone.normals[i * 3 + 1];\n    const nz = cone.normals[i * 3 + 2];\n    const vn = gl_matrix__WEBPACK_IMPORTED_MODULE_8__.fromValues(nx, ny, nz, 0);\n    const tvn = gl_matrix__WEBPACK_IMPORTED_MODULE_8__.transformMat4(gl_matrix__WEBPACK_IMPORTED_MODULE_8__.create(), vn, M);\n    const tvn3 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(tvn[0], tvn[1], tvn[2]);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(tvn3, tvn3);\n    cone.normals[i * 3] = tvn[0];\n    cone.normals[i * 3 + 1] = tvn[1];\n    cone.normals[i * 3 + 2] = tvn[2];\n  }\n  return cone;\n}\nfunction pointAtConeCircle(gl, theta, height, radius) {\n  const x = radius * Math.cos(theta);\n  const y = radius * Math.sin(theta);\n  const z = height;\n  return [x, y, z];\n}\nfunction normalOnConeAtOrigin(gl, p) {\n  let vp = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(...p);\n  let vo = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(0, 0, 0);\n  let v1 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vp, vo);\n  let vc = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.fromValues(0, 0, p[2]);\n  let va = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vc, vo);\n  let vr = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.subtract(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vp, vc);\n  let v2 = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.cross(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), vr, va);\n  let n = gl_matrix__WEBPACK_IMPORTED_MODULE_6__.cross(gl_matrix__WEBPACK_IMPORTED_MODULE_6__.create(), v1, v2);\n  if (gl_matrix__WEBPACK_IMPORTED_MODULE_6__.dot(n, vr) < 0) {\n    gl_matrix__WEBPACK_IMPORTED_MODULE_6__.negate(n, n);\n  }\n  gl_matrix__WEBPACK_IMPORTED_MODULE_6__.normalize(n, n);\n  return n;\n}\nfunction createConeAtOrigin(gl, radius = 1, height = 1, hseg = 10, vseg = 10) {\n  const d_a = Math.PI * 2 / hseg;\n  const d_h = height / vseg;\n  const positions = [];\n  const normals = [];\n  const texcoords = [];\n  //侧面\n  for (let i = 0; i < hseg; ++i) {\n    for (let j = 0; j < vseg; ++j) {\n      const a0 = d_a * i;\n      const a1 = d_a * (i + 1);\n      const h0 = d_h * j;\n      const h1 = d_h * (j + 1);\n      const r0 = h0 / height * radius;\n      const r1 = h1 / height * radius;\n      //位置\n\n      const p0 = pointAtConeCircle(gl, a0, h0, r0);\n      const p1 = pointAtConeCircle(gl, a1, h0, r0);\n      const p2 = pointAtConeCircle(gl, a1, h1, r1);\n      const p3 = pointAtConeCircle(gl, a0, h1, r1);\n      //法线\n      const n2 = normalOnConeAtOrigin(gl, p2);\n      const n3 = normalOnConeAtOrigin(gl, p3);\n      let n0 = [0, 0, 0];\n      let n1 = [0, 0, 0];\n      if (h0 == 0) {\n        n0 = n3;\n        n1 = n2;\n      } else {\n        n0 = normalOnConeAtOrigin(gl, p0);\n        n1 = normalOnConeAtOrigin(gl, p1);\n      }\n\n      //坐标\n      const c0 = [i * 1.0 / hseg, j * 1.0 / hseg];\n      const c1 = [(i + 1) * 1.0 / hseg, j * 1.0 / hseg];\n      const c2 = [(i + 1) * 1.0 / hseg, (j + 1) * 1.0 / hseg];\n      const c3 = [i * 1.0 / hseg, (j + 1) * 1.0 / hseg];\n      positions.push(...p0, ...p2, ...p3);\n      positions.push(...p0, ...p1, ...p2);\n      normals.push(...n0, ...n2, ...n3);\n      normals.push(...n0, ...n1, ...n2);\n      texcoords.push(...c0, ...c2, ...c3);\n      texcoords.push(...c0, ...c1, ...c2);\n    }\n  }\n\n  //底面\n  for (let i = 0; i < hseg; ++i) {\n    const a0 = d_a * i;\n    const a1 = d_a * (i + 1);\n    const p0 = pointAtConeCircle(gl, a0, height, radius);\n    const p1 = pointAtConeCircle(gl, a1, height, radius);\n    const p2 = [0, 0, height];\n    const n0 = [0, 0, 1];\n    const n1 = [0, 0, 1];\n    const n2 = [0, 0, 1];\n    const c0 = [i * 1.0 / hseg, 0];\n    const c1 = [(i + 1) * 1.0 / hseg, 0];\n    const c2 = [0, 1];\n    positions.push(...p0, ...p1, ...p2);\n    normals.push(...n0, ...n1, ...n2);\n    texcoords.push(...c0, ...c1, ...c1);\n  }\n  return {\n    type: gl.TRIANGLES,\n    hasIndices: false,\n    nvertices: positions.length / 3,\n    verticeSize: 3,\n    vertices: new Float32Array(positions),\n    normals: new Float32Array(normals),\n    texcoords: new Float32Array(texcoords)\n  };\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {array} points\r\n * @param {array} color  \r\n*/\nfunction createLineMesh(gl, points, color, linetype = gl.LINES) {\n  const nvertices = points.length / 3;\n  const colors = [];\n  if (color.length / 4 < nvertices) {\n    for (let i = 0; i < nvertices; ++i) {\n      colors.push(...color.slice(0, 4));\n    }\n  } else {\n    colors.push(...color);\n  }\n  return {\n    type: linetype,\n    hasIndices: false,\n    nvertices: nvertices,\n    verticeSize: 3,\n    colorSize: 4,\n    vertices: new Float32Array(points),\n    colors: new Float32Array(colors)\n  };\n}\nfunction createPoints(gl, points, color, size) {\n  const nvertices = points.length / 3;\n  const colors = [];\n  if (color.length / 4 < nvertices) {\n    for (let i = 0; i < nvertices; ++i) {\n      colors.push(...color.slice(0, 4));\n    }\n  } else {\n    colors.push(...color);\n  }\n  const sizes = [];\n  if (typeof size === 'number') {\n    for (let i = 0; i < nvertices; ++i) {\n      sizes.push(size);\n    }\n  } else if (Array.isArray(size)) {\n    if (size.length < nvertices) {\n      const r = nvertices - size.length;\n      const v = size[size.length - 1];\n      sizes.push(...size);\n      for (let i = 0; i < r; ++i) {\n        sizes.push(v);\n      }\n    } else {\n      sizes.push(...size);\n    }\n  }\n  return {\n    type: gl.POINTS,\n    hasIndices: false,\n    nvertices: nvertices,\n    verticeSize: 3,\n    colorSize: 4,\n    vertices: new Float32Array(points),\n    colors: new Float32Array(colors),\n    sizes: new Float32Array(sizes)\n  };\n}\n\n//# sourceURL=webpack://webgl-learning/./src/common/webglutils.js?");

/***/ }),

/***/ "./src/demo17/demo17.js":
/*!******************************!*\
  !*** ./src/demo17/demo17.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var gl_matrix__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! gl-matrix */ \"./node_modules/gl-matrix/esm/mat4.js\");\n/* harmony import */ var _demo17_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./demo17.css */ \"./src/demo17/demo17.css\");\n/* harmony import */ var _common_camera_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/camera.js */ \"./src/common/camera.js\");\n/* harmony import */ var _common_webglutils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/webglutils.js */ \"./src/common/webglutils.js\");\n/* harmony import */ var _common_material_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/material.js */ \"./src/common/material.js\");\n\n\n\n\n\nlet width = 1000;\nlet height = 500;\nfunction main() {\n  const canvas = document.getElementById(\"demo17-canvas\");\n  if (canvas !== null) {\n    canvas.height = canvas.clientHeight;\n    canvas.width = canvas.clientWidth;\n    height = canvas.height;\n    width = canvas.width;\n    const gl = canvas.getContext(\"webgl\");\n    window.addEventListener('resize', () => {\n      canvas.height = canvas.clientHeight;\n      canvas.width = canvas.clientWidth;\n      height = canvas.height;\n      width = canvas.width;\n      gl.viewport(0, 0, width, height);\n    });\n    draw(gl, canvas);\n  } else {\n    console.log(\"demo17 canvas is null\");\n  }\n}\nfunction glConfig(gl) {\n  /*清理及配置*/\n  gl.clearColor(0.0, 0.0, 0.0, 1.0);\n  gl.clearDepth(1.0);\n  gl.enable(gl.DEPTH_TEST);\n  gl.enable(gl.CULL_FACE);\n  gl.depthFunc(gl.LEQUAL);\n  gl.viewport(0, 0, width, height);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n}\nfunction lightHelper(gl, program, position, color) {\n  const inputLightX = document.getElementById(\"lgt-pos-x\");\n  const inputLightY = document.getElementById(\"lgt-pos-y\");\n  const inputLightZ = document.getElementById(\"lgt-pos-z\");\n  const inputLightColor = document.getElementById(\"lgt-color\");\n  inputLightX.value = position[0];\n  inputLightY.value = position[1];\n  inputLightZ.value = position[2];\n  const lightPos = position;\n  gl.useProgram(program.program);\n  gl.uniform3fv(program.light.u_position, lightPos);\n  gl.uniform4fv(program.light.u_color, color);\n  inputLightX.addEventListener(\"input\", e => {\n    lightPos[0] = e.target.value;\n    gl.useProgram(program.program);\n    gl.uniform3fv(program.light.u_position, lightPos);\n  });\n  inputLightY.addEventListener(\"input\", e => {\n    lightPos[1] = e.target.value;\n    gl.useProgram(program.program);\n    gl.uniform3fv(program.light.u_position, lightPos);\n  });\n  inputLightZ.addEventListener(\"input\", e => {\n    lightPos[2] = e.target.value;\n    gl.useProgram(program.program);\n    gl.uniform3fv(program.light.u_position, lightPos);\n  });\n  inputLightColor.value = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01RGB2Hex)(color.slice(0, 3));\n  gl.uniform4fv(program.light.u_color, color);\n  inputLightColor.addEventListener(\"input\", e => {\n    let hex = e.target.value;\n    const rgb = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01Hex2RGB)(hex);\n    color = [...rgb, 1];\n    gl.useProgram(program.program);\n    gl.uniform4fv(program.light.u_color, color);\n  });\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {object} program\r\n * @param {BlinnPhongMaterial} material   \r\n*/\nfunction materialHelper(gl, program, material) {\n  gl.useProgram(program.program);\n  const shininessInput = document.getElementById(\"material-shininess\");\n  shininessInput.value = material.shininess;\n  gl.uniform1f(program.material.u_shininess, material.shininess);\n  shininessInput.addEventListener(\"input\", e => {\n    let v = e.target.value;\n    material.shininess = v;\n    gl.useProgram(program.program);\n    gl.uniform1f(program.material.u_shininess, material.shininess);\n  });\n  //ambient\n  const ambientInput = document.getElementById(\"material-ambient\");\n  ambientInput.value = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01RGB2Hex)(material.ambient.slice(0, 3));\n  gl.uniform4fv(program.material.u_ambient, material.ambient);\n  ambientInput.addEventListener(\"input\", e => {\n    let hex = e.target.value;\n    const rgb = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01Hex2RGB)(hex);\n    material.ambient = [...rgb, 1];\n    gl.useProgram(program.program);\n    gl.uniform4fv(program.material.u_ambient, material.ambient);\n  });\n  //diffuse\n  const diffuseInput = document.getElementById(\"material-diffuse\");\n  diffuseInput.value = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01RGB2Hex)(material.diffuse.slice(0, 3));\n  gl.uniform4fv(program.material.u_diffuse, material.diffuse);\n  diffuseInput.addEventListener(\"input\", e => {\n    let hex = e.target.value;\n    const rgb = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01Hex2RGB)(hex);\n    material.diffuse = [...rgb, 1];\n    gl.useProgram(program.program);\n    gl.uniform4fv(program.material.u_diffuse, material.diffuse);\n  });\n  //specular\n  const specularInput = document.getElementById(\"material-specular\");\n  specularInput.value = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01RGB2Hex)(material.specular.slice(0, 3));\n  gl.uniform4fv(program.material.u_specular, material.specular);\n  specularInput.addEventListener(\"input\", e => {\n    let hex = e.target.value;\n    const rgb = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01Hex2RGB)(hex);\n    material.specular = [...rgb, 1];\n    gl.useProgram(program.program);\n    gl.uniform4fv(program.material.u_specular, material.specular);\n  });\n  //emission\n  const emissionInput = document.getElementById(\"material-emission\");\n  emissionInput.value = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01RGB2Hex)(material.emission.slice(0, 3));\n  gl.uniform4fv(program.material.u_emission, material.emission);\n  emissionInput.addEventListener(\"input\", e => {\n    let hex = e.target.value;\n    const rgb = (0,_common_material_js__WEBPACK_IMPORTED_MODULE_3__.color01Hex2RGB)(hex);\n    material.emission = [...rgb, 1];\n    gl.useProgram(program.program);\n    gl.uniform4fv(program.material.u_emission, material.emission);\n  });\n}\n\n/**\r\n * @param {WebGLRenderingContext} gl\r\n * @param {HTMLElement} canvas\r\n*/\nasync function draw(gl, canvas) {\n  glConfig(gl);\n\n  //mesh\n  const programInfo = (0,_common_webglutils_js__WEBPACK_IMPORTED_MODULE_2__.createTriangleProgram)(gl);\n  const cube = (0,_common_webglutils_js__WEBPACK_IMPORTED_MODULE_2__.createCube)(gl, [-5, -5, -5], [5, 5, 5]);\n  (0,_common_webglutils_js__WEBPACK_IMPORTED_MODULE_2__.meshBindBuffer)(gl, cube);\n\n  //=========目标texture===========\n  const targetTextureWidth = 200;\n  const targetTextureHeight = 200;\n  const targetTexture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, targetTexture);\n\n  // 定义 0 级的大小和格式\n  const level = 0;\n  const internalFormat = gl.RGBA;\n  const border = 0;\n  const format = gl.RGBA;\n  const type = gl.UNSIGNED_BYTE;\n  const data = null; //这里data是null，因为不需要我们提供数据\n  gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, targetTextureWidth, targetTextureHeight, border, format, type, data);\n\n  // 设置筛选器，不需要使用贴图\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n  // 创建帧缓冲\n  const fb = gl.createFramebuffer();\n  gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n  const attachmentPoint = gl.COLOR_ATTACHMENT0;\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, attachmentPoint, gl.TEXTURE_2D, targetTexture, level);\n\n  //===========数据texture============\n  const textureInfo = (0,_common_webglutils_js__WEBPACK_IMPORTED_MODULE_2__.createChessBoardTexture)(gl, 10, 10, 100, 200);\n  gl.activeTexture(gl.TEXTURE0); //纹理单元0\n  const dataTexture = gl.createTexture();\n  gl.bindTexture(gl.TEXTURE_2D, dataTexture);\n  gl.texImage2D(gl.TEXTURE_2D, 0, textureInfo.internalFormat, textureInfo.width, textureInfo.height, 0, textureInfo.format, textureInfo.type, textureInfo.data);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.useProgram(programInfo.program);\n\n  //uniform\n  const modelMtx = gl_matrix__WEBPACK_IMPORTED_MODULE_4__.create();\n  const camera = new _common_camera_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]([20, 20, 20], [0, 0, 0], [0, 0, 1]); // 相机对象\n  const mouseControl = new _common_camera_js__WEBPACK_IMPORTED_MODULE_1__.CameraMouseControl(camera, canvas);\n  mouseControl.enable();\n\n  //material\n  const ambient = [0.1, 0.1, 0.1, 1];\n  const diffuse = [0, 0, 0, 1];\n  const specular = [0.1, 1.0, 0.1, 1];\n  const emission = [0, 0, 0, 1];\n  const shininess = 10;\n  const material = new _common_material_js__WEBPACK_IMPORTED_MODULE_3__.BlinnPhongMaterial();\n  material.ambient = ambient;\n  material.diffuse = diffuse;\n  material.specular = specular;\n  material.emission = emission;\n  material.shininess = shininess;\n  materialHelper(gl, programInfo, material);\n\n  //light\n  const lightPosition = [50, 50, 50];\n  const ligthColor = [1.0, 1.0, 1.0, 1];\n  gl.uniform3fv(programInfo.light.u_position, lightPosition);\n  gl.uniform4fv(programInfo.light.u_color, ligthColor);\n  lightHelper(gl, programInfo, lightPosition, ligthColor);\n  function dynamicDraw() {\n    gl.useProgram(programInfo.program);\n\n    //===============绘制到纹理========================================\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb); // 设置framebuffer至目标纹理\n    gl.bindTexture(gl.TEXTURE_2D, dataTexture); // 绘制数据纹理至目标纹理\n    gl.viewport(0, 0, targetTextureWidth, targetTextureHeight); //viewport要符合目标纹理大小\n    const projMtx = gl_matrix__WEBPACK_IMPORTED_MODULE_4__.create();\n    gl_matrix__WEBPACK_IMPORTED_MODULE_4__.perspective(projMtx, Math.PI / 3, targetTextureWidth / targetTextureHeight, 0.5, 1000); //投影aspect要符合目标纹理尺寸比例\n\n    // 一些常规代码\n    gl.uniformMatrix4fv(programInfo.u_modelMtx, false, modelMtx);\n    gl.uniformMatrix4fv(programInfo.u_viewMtx, false, camera.getMatrix().viewMtx);\n    gl.uniformMatrix4fv(programInfo.u_projMtx, false, projMtx);\n    // invProjViewMtx\n    const invProjViewMtx = gl_matrix__WEBPACK_IMPORTED_MODULE_4__.create();\n    gl_matrix__WEBPACK_IMPORTED_MODULE_4__.multiply(invProjViewMtx, projMtx, camera.getMatrix().viewMtx);\n    gl_matrix__WEBPACK_IMPORTED_MODULE_4__.invert(invProjViewMtx, invProjViewMtx);\n    gl.uniformMatrix4fv(programInfo.u_invProjViewMtx, false, invProjViewMtx);\n    //camera\n    const from = camera.getFrom();\n    gl.uniform3f(programInfo.camera.u_position, from[0], from[1], from[2]);\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    gl.clearDepth(1.0);\n    ;\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n    (0,_common_webglutils_js__WEBPACK_IMPORTED_MODULE_2__.drawMesh)(gl, programInfo, cube);\n\n    //===============绘制到画布========================================\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null); //设置framebuffer为空，则渲染到画布\n    gl.bindTexture(gl.TEXTURE_2D, targetTexture); //绘制目标纹理至画布\n    gl.viewport(0, 0, width, height); // 设置viewport为画布尺寸\n    gl_matrix__WEBPACK_IMPORTED_MODULE_4__.perspective(projMtx, Math.PI / 3, width / height, 0.5, 1000); //投影aspect要符合画布尺寸比例\n    gl.uniformMatrix4fv(programInfo.u_projMtx, false, projMtx);\n    (0,_common_webglutils_js__WEBPACK_IMPORTED_MODULE_2__.drawMesh)(gl, programInfo, cube);\n    requestAnimationFrame(dynamicDraw);\n  }\n  dynamicDraw();\n}\nmain();\n\n//# sourceURL=webpack://webgl-learning/./src/demo17/demo17.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/demo17/demo17.js");
/******/ 	
/******/ })()
;